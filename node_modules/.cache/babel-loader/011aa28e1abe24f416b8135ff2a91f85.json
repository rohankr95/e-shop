{"remainingRequest":"/Users/rohansingh/Desktop/e-shop/node_modules/babel-loader/lib/index.js!/Users/rohansingh/Desktop/e-shop/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/rohansingh/Desktop/e-shop/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/rohansingh/Desktop/e-shop/src/views/Cart/Cart.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/rohansingh/Desktop/e-shop/src/views/Cart/Cart.vue","mtime":1631781810919},{"path":"/Users/rohansingh/Desktop/e-shop/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rohansingh/Desktop/e-shop/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/rohansingh/Desktop/e-shop/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rohansingh/Desktop/e-shop/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjYXJ0czogW10sCiAgICAgIGxlbjogMCwKICAgICAgdG90YWxjb3N0OiAwLAogICAgICBjYXJ0SWQ6IDEwCiAgICB9OwogIH0sCiAgbmFtZTogJ0NhcnQnLAogIHByb3BzOiBbImJhc2VVUkwiXSwKICBtZXRob2RzOiB7CiAgICBpc0Rpc2FibGVkOiBmdW5jdGlvbiBpc0Rpc2FibGVkKCkgewogICAgICBpZiAodGhpcy5sZW4gPT09IDApIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIHNob3dEZXRhaWxzOiBmdW5jdGlvbiBzaG93RGV0YWlscyhpdHIpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdTaG93RGV0YWlscycsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBpZDogdGhpcy5jYXJ0c1tpdHJdLnByb2R1Y3RJZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8gIGdvVG9TaG93RGV0YWlsICgpIHsKICAgIC8vICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvcHJvZHVjdC9zaG93LycgKyB0aGlzLnByb2R1Y3RJZCkKICAgIC8vICAgICB9LAogICAgY2hlY2tvdXQ6IGZ1bmN0aW9uIGNoZWNrb3V0KCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ0NoZWNrb3V0JywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGlkOiB0aGlzLmxlbgogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgbGlzdENhcnRJdGVtczogZnVuY3Rpb24gbGlzdENhcnRJdGVtcygpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICBheGlvcy5nZXQoImh0dHA6Ly8xMC4xNzcuNjguMTI6ODA4NS9jYXJ0LzEwIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgc2VsZi5jYXJ0cyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICBzZWxmLmxlbiA9IHNlbGYuY2FydHMubGVuZ3RoOwogICAgICAgICAgc2VsZi50b3RhbGNvc3QgPSBzZWxmLmNhcnRzLnRvdGFsQ29zdDsKICAgICAgICAgIHZhciBpOwoKICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzZWxmLmxlbjsgaSsrKSB7CiAgICAgICAgICAgIHNlbGYuY2FydHMucHVzaCh7CiAgICAgICAgICAgICAgaW1hZ2VVcmw6IHNlbGYuY2FydHNbaV0uaW1hZ2VVcmwsCiAgICAgICAgICAgICAgcHJvZHVjdE5hbWU6IHNlbGYuY2FydHNbaV0ucHJvZHVjdE5hbWUsCiAgICAgICAgICAgICAgcHJpY2U6IHNlbGYuY2FydHNbaV0ucHJpY2UsCiAgICAgICAgICAgICAgcXVhbnRpdHk6IHNlbGYuY2FydHNbaV0ucXVhbnRpdHksCiAgICAgICAgICAgICAgY2FydElkOiBzZWxmLmNhcnRzW2ldLmNhcnRJZCwKICAgICAgICAgICAgICBwcm9kdWN0SWQ6IHNlbGYuY2FydHNbaV0ucHJvZHVjdElkIC8vIHVzZXJJZDp0aGlzLmNhcnRzLmNhcnRJdGVtc1tpXS51c2VySWQKCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIGNvbnNvbGUubG9nKHNlbGYpOwogICAgICAgIH0KICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVJdGVtOiBmdW5jdGlvbiBkZWxldGVJdGVtKGluZGV4KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgaWQgPSB0aGlzLmNhcnRzW2luZGV4IC0gMV0ucHJvZHVjdElkOwogICAgICBheGlvcy5nZXQoImh0dHA6Ly8xMC4xNzcuNjguMTI6ODA4NS9wcm9kdWN0L2NhcnQvZGVsZXRlLyIuY29uY2F0KGlkKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgX3RoaXMuJHJvdXRlci5nbygwKTsKICAgICAgICB9CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlSXRlbTogZnVuY3Rpb24gdXBkYXRlSXRlbShpdGVtSWQsIHF1YW50aXR5KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGk7CgogICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5sZW47IGkrKykgewogICAgICAgIGlmICh0aGlzLmNhcnRzW2ldLmlkID09PSBpdGVtSWQpIHsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5jYXJ0c1tpXS5wUXVhbnRpdHkgPSBxdWFudGl0eTsKICAgICAgdmFyIHVzZXJJZCA9IHRoaXMuY2FydHNbaV0udXNlcklkOwogICAgICB2YXIgcHJvZHVjdElkID0gdGhpcy5jYXJ0c1tpXS5wSWQ7CiAgICAgIGF4aW9zLnB1dCgiIi5jb25jYXQodGhpcy5iYXNlVVJMLCAiY2FydC91cGRhdGUvIikuY29uY2F0KGl0ZW1JZCwgIi8/dG9rZW49IikuY29uY2F0KHRoaXMudG9rZW4pLCB7CiAgICAgICAgaWQ6IGl0ZW1JZCwKICAgICAgICB1c2VySWQ6IHVzZXJJZCwKICAgICAgICBwcm9kdWN0SWQ6IHByb2R1Y3RJZCwKICAgICAgICBxdWFudGl0eTogcXVhbnRpdHkKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLmxpc3RDYXJ0SXRlbXMoKTsKICAgICAgfSk7CiAgICB9IC8vIHRvdGFsY29zdD0oKXsKICAgIC8vIGxldCB0b3RhbCA9IDA7CiAgICAvLyB0aGlzLmNhcnRzLmZvckVhY2goKGl0ZW0sIGkpewogICAgLy8gICAgICB0b3RhbCArPSBpdGVtLnByaWNlICogaXRlbS5xdWFudGl0eTsKICAgIC8vIH0pOwogICAgLy8gfQoKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvLyB0aGlzLnRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIik7CiAgICB0aGlzLmxpc3RDYXJ0SXRlbXMoKTsKICAgIGNvbnNvbGUubG9nKCdpIGFtIGNhcnQnKTsKICB9Cn07"},{"version":3,"sources":["/Users/rohansingh/Desktop/e-shop/src/views/Cart/Cart.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-12 text-center\">\n        <h4 class=\"pt-3\">Cart</h4>\n      </div>\n    </div>\n<!-- <div v-if=\"carts\"> -->\n    <div v-for=\"itr in len\" :key=\"itr\" class=\"row mt-2 pt-3 justify-content-around\">\n      <div class=\"col-2\"></div>\n      <div class=\"col-md-3 embed-responsive embed-responsive-16by9\">\n        <img v-bind:src=\"carts[itr-1].imageUrl\" class=\"w-100 card-img-top embed-responsive-item\">\n      </div>\n      <div class=\"col-md-5 px-3\">\n        <div class=\"card-block px-3\">\n          <button @click=\"showDetails(itr-1)\">{{carts[itr-1].productName}}></button>\n          <!-- <h6 class=\"card-title\" @click=\"showDetails(itr-1)\">{{cartItem[itr-1].productName}}</h6> -->\n<!--          <p id=\"item-description\" class=\"card-text font-italic mb-0\">{{cartItem[itr-1].pDescription.substring(0,90)}}...</p>-->\n          <p id=\"item-price\" class=\"mb-0 font-weight-bold\"><sup>$</sup>{{carts[itr-1].price}} per unit</p>\n          <p id=\"item-quantity\" class=\"mb-0\">\n            Quantity :\n            <input size=\"1\" class=\"p-0 h-25 border-bottom border-top-0 border-left-0 border-right-0\" v-model=\"carts[itr-1].quantity\" @change=\"updateItem(carts[itr-1].cartId,carts[itr-1].quantity)\"/></p>\n          <p id=\"item-total-price\" class=\"mb-0\">Total Price : <sup>$</sup><span class=\"font-weight-bold\">{{carts[itr-1].price*carts[itr-1].quantity}}</span></p>\n          <br><a href=\"#\" class=\"text-right\" @click=\"deleteItem(itr)\">Remove From Cart</a>\n        </div>\n      <!-- </div> -->\n      <div class=\"col-2\"></div>\n      <div class=\"col-12\"><hr></div>\n    </div>\n</div>\n    <div class=\"total-cost pt-2 text-right\">\n      <h5>Total Cost : $ {{totalcost}}</h5>\n      <button :disabled=\"isDisabled()\" class=\"button_check\" @click=\"checkout()\" >Confirm Order</button>\n    </div>\n  </div>\n\n\n\n</template>\n\n<script>\n\nexport default {\n\n  data() {\n    return {\n      carts: [],\n      len:0,\n      totalcost:0,\n      cartId:10\n    }\n  },\n\n  name: 'Cart',\n  props: [\"baseURL\"],\n\n  methods: {\n\n     isDisabled(){\n       if(this.len === 0){\n         return true;\n       }\n       return false;\n     },\n\n     showDetails(itr){\n      this.$router.push({ name: 'ShowDetails', params: { id : this.carts[itr].productId } })\n     },\n\n    //  goToShowDetail () {\n    //       this.$router.push('/product/show/' + this.productId)\n    //     },\n\n     checkout(){\n      this.$router.push({ name: 'Checkout',params:{id:this.len}})\n     },\n\n     listCartItems(){\n      const self = this\n      axios.get(\"http://10.177.68.12:8085/cart/10\").then((response) => {\n        if(response.status==200){\n          console.log(response)\n          self.carts=response.data;\n          self.len = self.carts.length\n          self.totalcost = self.carts.totalCost\n          let i;\n          for(i=0;i<self.len;i++){\n            self.carts.push({\n              imageUrl:self.carts[i].imageUrl,\n              productName:self.carts[i].productName,\n              price:self.carts[i].price,\n              quantity:self.carts[i].quantity ,\n              cartId:self.carts[i].cartId,\n              productId:self.carts[i].productId,\n              // userId:this.carts.cartItems[i].userId\n            })\n          }\n          console.log(self)\n        }\n      },\n      (error)=>{\n        console.log(error)\n      });\n\n    },\n\n    deleteItem(index){\n      const id = this.carts[index - 1].productId\n      axios.get(`http://10.177.68.12:8085/product/cart/delete/${id}`)\n        .then((response)=>{\n          if(response.status==200){\n            this.$router.go(0);\n          }\n        },(error)=>{\n          console.log(error)\n        })\n    },\n\n    updateItem(itemId,quantity){\n      let i\n      for(i=0;i<this.len;i++){\n        if(this.carts[i].id === itemId){\n          break\n        }\n      }\n      this.carts[i].pQuantity = quantity\n      let userId = this.carts[i].userId\n      let productId = this.carts[i].pId\n      axios.put(`${this.baseURL}cart/update/${itemId}/?token=${this.token}`,{\n        id:itemId,\n        userId,\n        productId,\n        quantity\n      }).then(() => {\n        this.listCartItems()\n      })\n\n    },\n\n  // totalcost=(){\n  // let total = 0;\n  // this.carts.forEach((item, i){\n  //      total += item.price * item.quantity;\n  // });\n  // }\n\n  },\n\n  mounted() {\n    // this.token = localStorage.getItem(\"token\");\n    this.listCartItems();\n    console.log('i am cart')\n  },\n};\n\n</script>\n\n<style scoped>\nh4, h5 {\n  font-family: 'Roboto', sans-serif;\n  color: #484848;\n  font-weight: 700;\n}\n\n.embed-responsive .card-img-top {\n  object-fit: cover;\n}\n\n#item-price {\n  color: #232F3E;\n}\n\n#item-quantity{\n  float: left;\n}\n\n#item-total-price {\n  float: right;\n}\n\n</style>\n"],"sourceRoot":""}]}