{"remainingRequest":"/Users/rohansingh/Downloads/e-commerceApp/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/rohansingh/Downloads/e-commerceApp/src/views/Checkout/Checkout.vue?vue&type=style&index=0&id=6ae6fdc5&lang=css","dependencies":[{"path":"/Users/rohansingh/Downloads/e-commerceApp/src/views/Checkout/Checkout.vue","mtime":1631518566000},{"path":"/Users/rohansingh/Downloads/e-commerceApp/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rohansingh/Downloads/e-commerceApp/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1628298225000},{"path":"/Users/rohansingh/Downloads/e-commerceApp/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/rohansingh/Downloads/e-commerceApp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rohansingh/Downloads/e-commerceApp/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgouYWxlcnR7CiAgICB3aWR0aDogNTAlOwp9CgouZGl2X2NsYXNzewogICAgbWFyZ2luLXRvcDogNSU7CiAgICBtYXJnaW4tbGVmdDogMzAlOwp9CgouY2hlY2tvdXRfYnV0dG9uewogICAgYmFja2dyb3VuZC1jb2xvcjogIzVkM2RlYzsKICAgIGJvcmRlcjogbm9uZTsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIG1hcmdpbi1sZWZ0OiAxNSU7CiAgICBwYWRkaW5nOiAxNXB4IDMwcHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICBmb250LXNpemU6IDE1cHg7CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7Cn0KCi5jaGVja291dF9idXR0b246Zm9jdXN7CiAgICBvdXRsaW5lOiBub25lOwogICAgYm94LXNoYWRvdzogbm9uZTsKfQoKLmNoZWNrb3V0X2J1dHRvbjpkaXNhYmxlZHsKICAgIGJhY2tncm91bmQtY29sb3I6ICM5Yjg2Zjc7CiAgICBib3JkZXI6IG5vbmU7CiAgICBjb2xvcjogd2hpdGU7CiAgICBtYXJnaW4tbGVmdDogMTUlOwogICAgcGFkZGluZzogMTVweCAzMHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgZm9udC1zaXplOiAxNXB4OwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBib3JkZXItcmFkaXVzOiAxNXB4OwogICAgY3Vyc29yOm5vdC1hbGxvd2VkOwp9Cgo="},{"version":3,"sources":["/Users/rohansingh/Downloads/e-commerceApp/src/views/Checkout/Checkout.vue"],"names":[],"mappings":"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","file":"/Users/rohansingh/Downloads/e-commerceApp/src/views/Checkout/Checkout.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"div_class\">\n    <h3>You will be redirected to payment page</h3>\n\n        <div class=\"alert alert-primary\" role=\"alert\">\n            While making payment use card number 4242 4242 4242 4242 and enter random cvv(3 digit)\n        </div>\n\n        <button class=\"checkout_button\" id=\"proceed-to-checkout\" @click=\"goToCheckout()\">\n            Make payment\n        </button>\n  </div>\n</template>\n<script>\nexport default {\n        data(){\n            return {\n                stripeAPIToken: process.env.VUE_APP_STRIPETOKEN,\n                stripe: '',\n                token:null,\n                sessionId:null,\n                checkoutBodyArray:[]\n                }\n        },\n\n        name:'Checkout',\n        props:[\"baseURL\"],\n    \n        mounted(){\n            this.token = localStorage.getItem(\"token\");\n            if(typeof( this.$route.params.id) === \"undefined\"){\n                this.$router.push({name:'Home'})\n            }\n            this.includeStripe('js.stripe.com/v3/', function(){\n                this.configureStripe();\n            }.bind(this) );\n            this.getAllItems()\n        },\n    \n        methods: {\n            /*\n                Includes Stripe.js dynamically\n            */\n            includeStripe( URL, callback ){\n                let documentTag = document, tag = 'script',\n                    object = documentTag.createElement(tag),\n                    scriptTag = documentTag.getElementsByTagName(tag)[0];\n                object.src = '//' + URL;\n                if (callback) { object.addEventListener('load', function (e) { callback(null, e); }, false); }\n                scriptTag.parentNode.insertBefore(object, scriptTag);\n            },\n    \n            /*\n                Configures Stripe by setting up the elements and \n                creating the card element.\n            */\n            configureStripe(){\n                this.stripe = Stripe( this.stripeAPIToken );            \n            },\n\n            getAllItems(){\n                axios.get(`${this.baseURL}cart/?token=${this.token}`).then((response) => {\n                    if(response.status==200){\n                        let products = response.data\n                        let len=Object.keys(products.cartItems).length\n                        for(let i=0;i<len;i++)\n                            this.checkoutBodyArray.push({\n                                imageUrl:products.cartItems[i].product.imageURL,\n                                productName:products.cartItems[i].product.name,\n                                quantity:products.cartItems[i].quantity,\n                                price:products.cartItems[i].product.price,\n                                productId:products.cartItems[i].product.id,\n                                userId:products.cartItems[i].userId\n                        })\n                    }\n                },err=>{\n                    console.log(err)\n                })\n            },\n            \n            goToCheckout(){\n                axios.post(this.baseURL+\"order/create-checkout-session\",\n                   this.checkoutBodyArray\n                ).then((response)=>{\n                  localStorage.setItem(\"sessionId\",response.data.sessionId)\n                  return response.data\n                }).then((session)=>{\n                   return this.stripe.redirectToCheckout({ sessionId: session.sessionId })\n                })\n            }\n           \n        }\n}\n        \n</script>\n\n <style >\n\n.alert{\n    width: 50%;\n}\n\n.div_class{\n    margin-top: 5%;\n    margin-left: 30%;\n}\n\n.checkout_button{\n    background-color: #5d3dec;\n    border: none;\n    color: white;\n    margin-left: 15%;\n    padding: 15px 30px;\n    text-align: center;\n    text-decoration: none;\n    display: inline-block;\n    font-size: 15px;\n    font-weight: bold;\n    border-radius: 15px;\n}\n\n.checkout_button:focus{\n    outline: none;\n    box-shadow: none;\n}\n\n.checkout_button:disabled{\n    background-color: #9b86f7;\n    border: none;\n    color: white;\n    margin-left: 15%;\n    padding: 15px 30px;\n    text-align: center;\n    text-decoration: none;\n    display: inline-block;\n    font-size: 15px;\n    font-weight: bold;\n    border-radius: 15px;\n    cursor:not-allowed;\n}\n\n</style>"]}]}